!function(e){e.fn.wpSuperSnow=function(t){var a,i,n,o,r,s,p,l,S,m,u,w,f=e("head"),c=(e("#specialDay"),["wpSuperSnowFlake_l","wpSuperSnowFlake_r"]),y=["wpSuperSnow_l","wpSuperSnow_r"];if(!(t=e.extend({},{flakes:[],totalFlakes:2,maxSize:10,maxDuration:5,useFlakeTrans:!1},t)).flakes.length)return this;e.wpSuperSnowCSS&&(f.append('<style type="text/css">'+e.wpSuperSnowCSS+"</style>"),e.wpSuperSnowCSS="");var b=function(e,t){return e="number"==typeof e?e:0,t="number"==typeof t?t:Number.MAX_VALUE,Math.floor(Math.random()*(t-e+1))+e};return this.each((function(){for(m=e(this),u="fixed",-1===e.inArray(m[0].nodeName.toLowerCase(),["html","body"])&&(m.css({position:"relative",overflow:"hidden"}),u="absolute"),w=[0,0,1,1,2,2,3,3,4,5,6,7,8,9,10],m=e(this),a=1;a<=Number(t.totalFlakes);a++)i=b(0,100),n=b(1,9),s=b(1,Number(t.maxSize)),o=b(Math.floor(Number(t.maxDuration)/5),Number(t.maxDuration)),r=w.length?w.shift():b(0,Math.floor(o/5)),l=t.flakes[b(0,t.flakes.length-1)],p=-1!==l.indexOf("flake")?c[b(0,c.length-1)]:y[b(0,y.length-1)],(S=e('<div class="wp-super-snow-flake"><img src="'+l+'" /></div>')).css({width:s+"px",height:s+"px",position:u,left:i+"%",top:"-20px",opacity:"0","user-select":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","backface-visibility":"visible","-webkit-backface-visibility":"visible","-moz-backface-visibility":"visible","-ms-backface-visibility":"visible",animation:p+" "+o+"s infinite","animation-delay":r+"s","-webkit-animation":p+" "+o+"s infinite","-webkit-animation-delay":r+"s","-moz-animation":p+" "+o+"s infinite","-moz-animation-delay":r+"s","-ms-animation":p+" "+o+"s infinite","-ms-animation-delay":r+"s"}),e("img",S).css({width:"100%",height:"auto",border:0,opacity:t.useFlakeTrans?"."+n:1}),m.append(S)}))},e.wpSuperSnowCSS="@keyframes wpSuperSnow_l {0% {opacity:1;} 25% {opacity:1;} 100% {opacity:1; transform:translate3D(60px,220px,0) rotate(360deg);}}",e.wpSuperSnowCSS+="@keyframes wpSuperSnow_r {0% {opacity:1;} 25% {opacity:1;} 100% {opacity:1; transform:translate3D(-60px,220px,0) rotate(-500deg);}}",e.wpSuperSnowCSS+="@-ms-keyframes wpSuperSnowFlake_l {0% {opacity:1;} 25% {opacity:1;} 100% {opacity:1; -ms-transform:translate3D(60px,220px,0) rotateY(720deg) rotate(360deg);}}",e.wpSuperSnowCSS+="@-ms-keyframes wpSuperSnowFlake_r {0% {opacity:1;} 25% {opacity:1;} 100% {opacity:1; -ms-transform:translate3D(-60px,220px,0) rotateY(-720deg) rotate(-500deg);}}"}(jQuery);